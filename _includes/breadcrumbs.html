{% comment %} Generador de migas de pan (breadcrumbs) para Jekyll Detecta
automáticamente el tipo de página y genera la navegación apropiada {% endcomment
%} {% assign url_parts = page.url | split: '/' %} {% assign breadcrumb_path = ''
%}

<div class="breadcrumbs">
  <nav aria-label="Migas de pan">
    <ol>
      <!-- Enlace a inicio -->
      <li>
        <a href="{{ site.baseurl }}/" class="breadcrumb-home">Inicio</a>
      </li>

      {% if page.url != '/' %}
      <li><span class="breadcrumb-separator">›</span></li>

      {% if page.layout == 'post' %}
      <!-- Para posts, agregar categoría si existe -->
      {% if page.categories and page.categories.size > 0 %} {% assign
      main_category = page.categories[0] %} {% assign category_display =
      site.category_names[main_category] | default: main_category | capitalize
      %}
      <li>
        <a href="{{ site.baseurl }}/categorias/{{ main_category | slugify }}/">
          {{ category_display }}
        </a>
      </li>
      <li><span class="breadcrumb-separator">›</span></li>
      {% endif %}

      <!-- Título del post actual -->
      <li>
        <span class="current">{{ page.title }}</span>
      </li>

      {% else %}
      <!-- Para páginas normales -->
      {% for part in url_parts %} {% unless part == '' %} {% assign
      breadcrumb_path = breadcrumb_path | append: '/' | append: part %} {% if
      forloop.last %}
      <!-- Página actual -->
      <li>
        <span class="current">
          {% if page.title %} {{ page.title }} {% else %} {{ part | replace:
          '-', ' ' | replace: '_', ' ' | capitalize }} {% endif %}
        </span>
      </li>
      {% else %}
      <!-- Páginas intermedias -->
      <li>
        <a href="{{ site.baseurl }}{{ breadcrumb_path }}/">
          {{ part | replace: '-', ' ' | replace: '_', ' ' | capitalize }}
        </a>
      </li>
      <li><span class="breadcrumb-separator">›</span></li>
      {% endif %} {% endunless %} {% endfor %} {% endif %} {% endif %}
    </ol>
  </nav>
</div>
